<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>机器学习系统 4-4 - 召回 · KLEON</title><meta name="description" content="多种策略混合，快而全

#策略
召回阶段需要从海量的标的物中选取，通常使用不同的召回策略满足内容的多样性，新颖性等要求。
#基于规则的召回
比如热门内容等。
#基于人口统计信息
比如按人群特征推荐不同内容。
#基于内容的召回
也叫做标签召回，这类召回的核心是基于item自身的属性，表达为tag，ca"><meta name="og:description" content="多种策略混合，快而全

#策略
召回阶段需要从海量的标的物中选取，通常使用不同的召回策略满足内容的多样性，新颖性等要求。
#基于规则的召回
比如热门内容等。
#基于人口统计信息
比如按人群特征推荐不同内容。
#基于内容的召回
也叫做标签召回，这类召回的核心是基于item自身的属性，表达为tag，ca"><meta name="twitter:site" content="KLEON"><meta name="twitter:title" content="机器学习系统 4-4 - 召回"><meta name="twitter:card" content="summary"><meta name="keywords" content=""><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/github.min.css"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 6.1.0"></head><body><div id="stage" class="container"><div class="row"><div id="side-bar" class="col-sm-3 col-xs-12 side-container invisible"><div class="vertical-text site-title"><h3 tabindex="-1" class="site-title-small"><a href="/" class="a-title"></a></h3><h1 tabindex="-1" class="site-title-large"><a href="/" class="a-title">自说自话</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div id="site-nav" class="site-title-links"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archive</a></li><li><a href="/categories">Categories</a></li><li><a href="/tags">Tags</a></li><li><a href="/googlebe23cb0bc55fc412.html"></a></li><li><a href="/about/index.html"></a></li><li class="soc"><a href="https://github.com/kleon1024" target="_blank" rel="noopener noreferrer" aria-label="Github"><i class="fa fa-github">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2022&nbsp;<a target="_blank" href="https://blog.kleon.space" rel="noopener noreferrer">Kleon</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div id="main-container" class="col-sm-9 col-xs-12 main-container invisible"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>机器学习系统 4-4 - 召回</a></p><p class="post-meta"><span class="date meta-item">Posted at&nbsp;2021-05-02</span><span class="date meta-item">Updated at&nbsp;2021-05-10</span><span class="meta-item"><i class="fa fa-folder"></i><span>&nbsp;</span><a href="/categories/机器学习/" title="机器学习" class="a-tag">机器学习</a><span>&nbsp;</span></span><span class="meta-item"><i class="fa fa-tag"></i><span>&nbsp;</span><a href="/tags/机器学习/" title="机器学习" class="a-tag">机器学习</a><span>&nbsp;</span><a href="/tags/推荐系统/" title="推荐系统" class="a-tag">推荐系统</a><span>&nbsp;</span></span></p><p class="post-abstract"><p>多种策略混合，快而全</p>
<span id="more"></span>
<h1><a href="#ce-lue" class="header-anchor">#</a><span id="ce-lue">策略</span></h1>
<p>召回阶段需要从海量的标的物中选取，通常使用不同的召回策略满足内容的多样性，新颖性等要求。</p>
<h2><a href="#ji-yu-gui-ze-de-zhao-hui" class="header-anchor">#</a><span id="ji-yu-gui-ze-de-zhao-hui">基于规则的召回</span></h2>
<p>比如热门内容等。</p>
<h2><a href="#ji-yu-ren-kou-tong-ji-xin-xi" class="header-anchor">#</a><span id="ji-yu-ren-kou-tong-ji-xin-xi">基于人口统计信息</span></h2>
<p>比如按人群特征推荐不同内容。</p>
<h2><a href="#ji-yu-nei-rong-de-zhao-hui" class="header-anchor">#</a><span id="ji-yu-nei-rong-de-zhao-hui">基于内容的召回</span></h2>
<p>也叫做标签召回，这类召回的核心是基于item自身的属性，表达为tag，cate，也可以用来表达用户ID，用户类型，更可以通过交叉验证的方式，对内容提取向量，将内容表达为连续向量的方式进行召回。</p>
<p>核心思想是推荐操作过的物品相似的物品，或者推荐相似用户喜欢的物品。优点是不需要其他用户的数据，捕获用户的特定兴趣。缺点是item特征工程需要手工设计，并且用户兴趣过窄。通常可用于冷启动。</p>
<h2><a href="#xie-tong-guo-lu" class="header-anchor">#</a><span id="xie-tong-guo-lu">协同过滤</span></h2>
<p>协同过滤依赖大量用户的行为，核心思想是推荐操作过物品的相似物品（ItemCF），或者推荐相似用户喜欢的物品（UserCF），以及基于模型（Model-Based）。和基于内容的召回的区别是，基于内容的召回的相似性基于物品和用户自身的属性，协同过滤基于用户和物品的行为矩阵。</p>
<ul>
<li>关联算法，Apriori, FP Tree, PrefixSpan</li>
<li>聚类算法，KMeans，BIRCH，DBSCAN，谱聚类</li>
<li>分类算法，Logistic Regression，朴素贝叶斯</li>
<li>回归算法，Linear Regression，DT，SVM</li>
<li>矩阵分解，SVD</li>
<li>神经网络</li>
<li>图模型</li>
<li>隐语义模型</li>
</ul>
<h2><a href="#xiang-liang-zhao-hui" class="header-anchor">#</a><span id="xiang-liang-zhao-hui">向量召回</span></h2>
<p>通过Embedding计算相似度，分为深度学习u2i，内容语义i2i，图表征i2i。</p>
<ul>
<li>内容语义i2i通常基于文本，经典算法包括Word2Vec，FastText，Bert。</li>
<li>图表征i2i基于行为序列，经典算法包括Deep Walk，EGES，Node2Vec，GCN，GrapSAGE。</li>
<li>深度学习u2i常用算法包括DSSM双塔，YouTube，Airbnb。</li>
</ul>
<h1><a href="#gong-cheng" class="header-anchor">#</a><span id="gong-cheng">工程</span></h1>
<h2><a href="#cha-biao" class="header-anchor">#</a><span id="cha-biao">查表</span></h2>
<p>离线将i2i或u2i关系计算并存到数据源，在线服务从数据源读取。数据源是数据库，比如MySQL，PostgreSQL，Redis，HBase等。</p>
<p>对于新商品或新用户需要有兜底方案，比如热门商品。</p>
<h2><a href="#xiang-liang-zhao-hui" class="header-anchor">#</a><span id="xiang-liang-zhao-hui">向量召回</span></h2>
<p>离线或在线计算item embedding和user embedding间距离最近的embedding，通常不直接计算相似度，而是通过向量召回引擎如faiss<a href="#refer-28"><sup>28</sup></a>。</p>
<p>局部敏感哈希。</p>
<hr>
<ul>
<li>[1] <span id="refer-1"></span> <a target="_blank" rel="noopener" href="https://lumingdong.cn/cooperative-recommendation-algorithms.html">基于协同的推荐算法</a></li>
<li>[2] <span id="refer-2"></span> <a target="_blank" rel="noopener" href="https://blog.csdn.net/GFDGFHSDS/article/details/104775336">推荐系统之LFM算法详解</a></li>
<li>[3] <span id="refer-3"></span> <a target="_blank" rel="noopener" href="https://blog.csdn.net/u012151283/article/details/77716085">矩阵分解(MF,SVD)和协同过滤(CF)</a></li>
<li>[4] <span id="refer-4"></span> <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-hans/%E7%9F%A9%E9%98%B5%E5%88%86%E8%A7%A3">矩阵分解 - 维基百科</a></li>
<li>[5] <span id="refer-5"></span> <a target="_blank" rel="noopener" href="https://blog.csdn.net/jamexfx/article/details/93780308">推荐系统面试题之机器学习（一）树模型</a></li>
<li>[6] <span id="refer-6"></span> <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/36335867">决策树的进化史 - 知乎</a></li>
<li>[7] <span id="refer-7"></span> <a target="_blank" rel="noopener" href="https://scikit-learn.org/stable/modules/tree.html">1.10. Decision Trees — scikit-learn 0.24.2 documentation</a></li>
<li>[8] <span id="refer-8"></span> <a target="_blank" rel="noopener" href="https://cuijiahua.com/blog/2017/11/ml_2_decision_tree_1.html">机器学习实战教程（二）：决策树基础篇之让我们从相亲说起</a></li>
<li>[9] <span id="refer-9"></span> <a target="_blank" rel="noopener" href="https://blog.csdn.net/manduner/article/details/90516561">决策树常见的面试点整理</a></li>
<li>[10] <span id="refer-10"></span> <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_39946355/article/details/111668238">l2的最优回归_机器学习（七）：数据预处理–特征选择-L1、L2正则化</a></li>
<li>[11] <span id="refer-11"></span> <a target="_blank" rel="noopener" href="https://blog.csdn.net/jinping_shi/article/details/52433975">机器学习中正则化项L1和L2的直观理解</a></li>
<li>[12] <span id="refer-12"></span> <a target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_27784071/article/details/84347642">降低过拟合风险的方法</a></li>
<li>[13] <span id="refer-13"></span> <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43216017/article/details/87534496">决策树的剪枝：REP/PEP/CCP算法</a></li>
<li>[14] <span id="refer-14"></span> <a target="_blank" rel="noopener" href="https://easyai.tech/ai-definition/">AI 知识库</a></li>
<li>[15] <span id="refer-15"></span> <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1150805">树算法对比：RF、GBDT、XGBoost</a></li>
<li>[16] <span id="refer-16"></span> <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/34679467">RF、GBDT、XGBoost常见面试题整理</a></li>
<li>[17] <span id="refer-17"></span> <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/348776985">GBDT理解难点------拟合负梯度</a></li>
<li>[18] <span id="refer-18"></span> <a target="_blank" rel="noopener" href="https://www.cnblogs.com/wkang/p/10091790.html">从零开始学推荐系统一：基于邻域的算法</a></li>
<li>[19] <span id="refer-19"></span> <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/115690499">深入理解推荐系统：召回</a></li>
<li>[20] <span id="refer-20"></span> <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/80068528">基于内容的推荐算法</a></li>
<li>[21] <span id="refer-21"></span> <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42608414/article/details/106502942">work2vec的实战应用</a></li>
<li>[22] <span id="refer-22"></span> <a target="_blank" rel="noopener" href="https://www.cnblogs.com/jielongAI/p/10409463.html">word2vec是如何工作的？</a></li>
<li>[23] <span id="refer-23"></span> <a target="_blank" rel="noopener" href="https://radimrehurek.com/gensim/models/doc2vec.html">models.doc2vec – Doc2vec paragraph embeddings — gensim</a></li>
<li>[24] <span id="refer-24"></span> <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/80069337">协同过滤推荐算法</a></li>
<li>[25] <span id="refer-25"></span> <a target="_blank" rel="noopener" href="https://www.cnblogs.com/pinard/p/6349233.html">协同过滤推荐算法总结</a></li>
<li>[26] <span id="refer-26"></span> <a target="_blank" rel="noopener" href="https://developers.google.com/machine-learning/crash-course/embeddings/motivation-from-collaborative-filtering?hl=zh-cn">嵌套 (Embedding)：协同过滤的目的</a></li>
<li>[27] <span id="refer-27"></span> <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/97821040">谈谈推荐场景中召回模型的演化过程</a></li>
<li>[28] <span id="refer-28"></span> <a target="_blank" rel="noopener" href="https://github.com/facebookresearch/faiss">facebookresearch/faiss: A library for efficient similarity search and clustering of dense vectors.</a></li>
</ul>
</p></div><div class="share"><span>Share</span>&nbsp;<span class="soc"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></span><span class="soc"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></span><span class="soc"><a target="_blank" rel="noopener" href="http://twitter.com/home?status=https://blog.kleon.space/ai/ml-system/recommender/4-recall/%20KLEON%20机器学习系统 4-4 - 召回" class="fa fa-twitter"></a></span></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/ai/ml-system/recommender/5-rank/" title="机器学习系统 4-5 - 排序"><i class="fa fa-angle-double-left"></i>&nbsp;Previous post: 机器学习系统 4-5 - 排序</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/cs/algo/dynamic-programming/" title="算法基础 - 动态规划法">Next post: 算法基础 - 动态规划法&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2022&nbsp;<a target="_blank" href="https://blog.kleon.space" rel="noopener noreferrer">Kleon</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>